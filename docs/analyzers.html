---

title: Analyzers


keywords: fastai
sidebar: home_sidebar

summary: "Text analyzers to help create text-based covariates, treatments, or outcomes for causal analyses."
description: "Text analyzers to help create text-based covariates, treatments, or outcomes for causal analyses."
nb_path: "nbs/02_analyzers.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/02_analyzers.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="list2chunks" class="doc_header"><code>list2chunks</code><a href="https://github.com/amaiya/causalnlp/tree/main/causalnlp/analyzers.py#L12" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>list2chunks</code>(<strong><code>a</code></strong>, <strong><code>n</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ZeroShotClassifier" class="doc_header"><code>class</code> <code>ZeroShotClassifier</code><a href="https://github.com/amaiya/causalnlp/tree/main/causalnlp/analyzers.py#L18" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ZeroShotClassifier</code>(<strong><code>model_name</code></strong>=<em><code>'facebook/bart-large-mnli'</code></em>, <strong><code>device</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Interface to Zero Shot Topic Classifier</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ZeroShotClassifier.predict" class="doc_header"><code>ZeroShotClassifier.predict</code><a href="https://github.com/amaiya/causalnlp/tree/main/causalnlp/analyzers.py#L44" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ZeroShotClassifier.predict</code>(<strong><code>docs</code></strong>, <strong><code>labels</code></strong>=<em><code>[]</code></em>, <strong><code>include_labels</code></strong>=<em><code>False</code></em>, <strong><code>multilabel</code></strong>=<em><code>True</code></em>, <strong><code>max_length</code></strong>=<em><code>512</code></em>, <strong><code>batch_size</code></strong>=<em><code>8</code></em>, <strong><code>nli_template</code></strong>=<em><code>'This text is about {}.'</code></em>, <strong><code>topic_strings</code></strong>=<em><code>[]</code></em>)</p>
</blockquote>
<p>This method performs zero-shot text classification using Natural Language Inference (NLI).</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li>docs(list|str): text of document or list of texts</li>
<li>labels(list): a list of strings representing topics of your choice
<pre><code>          Example:
           labels=['political science', 'sports', 'science']</code></pre>
</li>
<li>include_labels(bool): If True, will return topic labels along with topic probabilities</li>
<li>multilabel(bool): If True, labels are considered independent and multiple labels can predicted true for document and be close to 1.
<pre><code>            If False, scores are normalized such that probabilities sum to 1.</code></pre>
</li>
<li>max_length(int): truncate long documents to this many tokens</li>
<li>batch_size(int): batch_size to use. default:8
<pre><code>           Increase this value to speed up predictions - especially
           if len(topic_strings) is large.</code></pre>
</li>
<li>nli_template(str): labels are inserted into this template for use as hypotheses in natural language inference</li>
<li>topic_strings(list): alias for labels parameter for backwards compatibility</li>
</ul>
<p><strong>Returns:</strong></p>
<p>inferred probabilities or list of inferred probabilities if doc is list</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zsl</span> <span class="o">=</span> <span class="n">ZeroShotClassifier</span><span class="p">()</span>
<span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;politics&#39;</span><span class="p">,</span> <span class="s1">&#39;elections&#39;</span><span class="p">,</span> <span class="s1">&#39;sports&#39;</span><span class="p">,</span> <span class="s1">&#39;films&#39;</span><span class="p">,</span> <span class="s1">&#39;television&#39;</span><span class="p">]</span>
<span class="n">doc</span> <span class="o">=</span> <span class="s1">&#39;I am extremely dissatisfied with the President and will definitely vote in 2020.&#39;</span>
<span class="n">preds</span> <span class="o">=</span> <span class="n">zsl</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">include_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">preds</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;politics&#39;, 0.979189932346344),
 (&#39;elections&#39;, 0.9874580502510071),
 (&#39;sports&#39;, 0.0005765454261563718),
 (&#39;films&#39;, 0.002292441902682185),
 (&#39;television&#39;, 0.001054605352692306)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">preds</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;politics&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.9</span>
<span class="k">assert</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;elections&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.9</span>
<span class="k">assert</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;sports&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.1</span>
<span class="k">assert</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;films&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.1</span>
<span class="k">assert</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;television&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TextEncoder" class="doc_header"><code>class</code> <code>TextEncoder</code><a href="https://github.com/amaiya/causalnlp/tree/main/causalnlp/analyzers.py#L124" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TextEncoder</code>(<strong><code>model_name</code></strong>=<em><code>'stsb-roberta-large'</code></em>, <strong><code>device</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Tiny wrapper to sentence-transformers</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">te</span> <span class="o">=</span> <span class="n">TextEncoder</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">e</span> <span class="o">=</span> <span class="n">te</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;The moon is bright.&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">e</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">e</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1024</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TopicModel" class="doc_header"><code>class</code> <code>TopicModel</code><a href="https://github.com/amaiya/causalnlp/tree/main/causalnlp/analyzers.py#L166" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TopicModel</code>(<strong><code>texts</code></strong>=<em><code>None</code></em>, <strong><code>n_topics</code></strong>=<em><code>None</code></em>, <strong><code>n_features</code></strong>=<em><code>10000</code></em>, <strong><code>min_df</code></strong>=<em><code>5</code></em>, <strong><code>max_df</code></strong>=<em><code>0.5</code></em>, <strong><code>stop_words</code></strong>=<em><code>'english'</code></em>, <strong><code>model_type</code></strong>=<em><code>'lda'</code></em>, <strong><code>lda_max_iter</code></strong>=<em><code>5</code></em>, <strong><code>lda_mode</code></strong>=<em><code>'online'</code></em>, <strong><code>token_pattern</code></strong>=<em><code>None</code></em>, <strong><code>verbose</code></strong>=<em><code>1</code></em>, <strong><code>hyperparam_kwargs</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">fetch_20newsgroups</span>

<span class="c1"># we only want to keep the body of the documents!</span>
<span class="n">remove</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;headers&#39;</span><span class="p">,</span> <span class="s1">&#39;footers&#39;</span><span class="p">,</span> <span class="s1">&#39;quotes&#39;</span><span class="p">)</span>

<span class="c1"># fetch train and test data</span>
<span class="n">newsgroups_train</span> <span class="o">=</span> <span class="n">fetch_20newsgroups</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="n">remove</span><span class="o">=</span><span class="n">remove</span><span class="p">)</span>
<span class="n">newsgroups_test</span> <span class="o">=</span> <span class="n">fetch_20newsgroups</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">remove</span><span class="o">=</span><span class="n">remove</span><span class="p">)</span>

<span class="c1"># compile the texts</span>
<span class="n">texts</span> <span class="o">=</span> <span class="n">newsgroups_train</span><span class="o">.</span><span class="n">data</span> <span class="o">+</span>  <span class="n">newsgroups_test</span><span class="o">.</span><span class="n">data</span>

<span class="c1"># let&#39;s also store the newsgroup category associated with each document</span>
<span class="c1"># we can display this information in visualizations</span>
<span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="n">target</span> <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">newsgroups_train</span><span class="o">.</span><span class="n">target</span><span class="p">)</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">newsgroups_test</span><span class="o">.</span><span class="n">target</span><span class="p">)]</span>
<span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="n">newsgroups_train</span><span class="o">.</span><span class="n">target_names</span><span class="p">[</span><span class="n">target</span><span class="p">]</span> <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tm</span> <span class="o">=</span> <span class="n">TopicModel</span><span class="p">(</span><span class="n">texts</span><span class="p">,</span> <span class="n">n_features</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>n_topics automatically set to 97
preprocessing texts...
fitting model...
iteration: 1 of max_iter: 5
iteration: 2 of max_iter: 5
iteration: 3 of max_iter: 5
iteration: 4 of max_iter: 5
iteration: 5 of max_iter: 5
done.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tm</span><span class="o">.</span><span class="n">print_topics</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>topic 0 | tape adam tim case moved bag quote mass marked zionism
topic 1 | image jpeg images format programs tiff files jfif save lossless
topic 2 | alternative movie film static cycles films philips dynamic hou phi
topic 3 | hell humans poster frank reality kent gerard gant eternal bell
topic 4 | air phd chz kit cbc ups w-s rus w47 mot
topic 5 | dog math great figure poster couldn don trying rushdie fatwa
topic 6 | collaboration nazi fact end expression germany philly world certified moore
topic 7 | gif points scale postscript mirror plane rendering algorithm polygon rayshade
topic 8 | fonts font shell converted iii characters slight composite breaks compress
topic 9 | power station supply options option led light tank plastic wall
topic 10 | transmission rider bmw driver automatic shift gear japanese stick highway
topic 11 | tyre ezekiel ruler hernia appeared appointed supreme man land power
topic 12 | space nasa earth data launch surface solar moon mission planet
topic 13 | israel jews jewish israeli arab peace war arabs palestinian kuwait
topic 14 | olvwm xremote animals kinds roughing toolkit close corp glenn imakefile
topic 15 | medical health disease cancer patients drug treatment drugs aids study
topic 16 | biden chip gear like information number automatic mode insurance know
topic 17 | graphics zip amiga shareware formats ftp gif program sgi convert
topic 18 | brilliant mail did god coming christianity people got ideas reading
topic 19 | black red white blue green cross wires lines helmet mask
topic 20 | car engine cars miles clutch new ford rear slip road
topic 21 | list mailing service model small large lists radar available major
topic 22 | key encryption chip keys clipper phone security use government privacy
topic 23 | talking pit nyr stl phi edm mtl wsh hfd cgy
topic 24 | signal input switch connected circuit audio noise output control voltage
topic 25 | stuff deleted die posting beware fantastic motives authentic reluctant hope
topic 26 | adams douglas dc-x garrett ingres tin sdio incremental mcdonnell guide
topic 27 | men homosexual homosexuality women gay sexual homosexuals male kinsey pop
topic 28 | usual leo rs-232 martian reading cooperative unmanned somalia decompress visited
topic 29 | edu university information send new computer research mail internet address
topic 30 | reserve naval marine ret commission one-way irgun prior closure facilities
topic 31 | state intelligence militia units army zone georgia sam croats belongs
topic 32 | says article pain known warning doctor stone bug kidney response
topic 33 | faq rsa ripem lights yes patent nist management wax cipher
topic 34 | wolverine comics hulk appearance special liefeld sabretooth incredible hobgoblin x-force
topic 35 | software ram worth cycles controller available make dram dynamic situation
topic 36 | religion people religious catalog bobby used driven involved long like
topic 37 | intel sites experiment ftp does know family good like mrs
topic 38 | armenian people army russian turkish genocide armenians ottoman turks jews
topic 39 | theft geo available face couldn cover sony people number shop
topic 40 | christianity did exists mail matter mind tool status god reading
topic 41 | propane probe earth orbit orbiter titan cassini space atmosphere gravity
topic 42 | people government right think rights law make public fbi don
topic 43 | god people does say believe bible true think evidence religion
topic 44 | mov phone south key war supply push left just registered
topic 45 | period goal pts play chicago pittsburgh buffalo shots new blues
topic 46 | game team games year hockey season players player baseball league
topic 47 | speed dod student technician just hits right note giant light
topic 48 | sex marriage relationship family married couple depression pregnancy childhood trademark
topic 49 | protects rejecting com4 couple decides taking connect unc nearest richer
topic 50 | president states united american national press april washington america white
topic 51 | card memory windows board ram bus drivers driver cpu problem
topic 52 | window application manager display button xterm path widget event resources
topic 53 | cable win van det bos tor cal nyi chi buf
topic 54 | americans baltimore rochester cape springfield moncton providence utica binghamton adirondack
topic 55 | color monitor screen mouse video colors resolution vga colour monitors
topic 56 | option power ssf flights capability module redesign missions station options
topic 57 | body father son vitamin diet day cells cell form literature
topic 58 | max g9v b8f a86 bhj giz bxn biz qax b4q
topic 59 | bit fast chip ibm faster mode chips scsi-2 speeds quadra
topic 60 | book books law adl islam islamic iran media bullock muslims
topic 61 | armenian russian turkish ottoman people army armenians genocide war turks
topic 62 | oscillator partition tune nun umumiye nezareti mecmuasi muharrerat-i evrak version
topic 63 | tongues seat est didn raise copied lazy schemes adapter leap
topic 64 | com object jim app function motorola heterosexual objects pointers encountered
topic 65 | effective boy projects grow jason ain dump keyboards vastly grants
topic 66 | armenian people russian armenians turks ottoman army turkish genocide muslim
topic 67 | mac apple pin ground wire quicktime macs pins connector simms
topic 68 | bastard turning likes hooks notions turks cited proud pointers chuck
topic 69 | bought dealer cost channel replaced face sony stereo warranty tube
topic 70 | myers food reaction msg writes loop eat dee effects taste
topic 71 | lander contradiction reconcile apparent somebody supplement essential needs produce insulin
topic 72 | re-boost systems virginia voice unix input ken easily summary developing
topic 73 | block tests suck shadow dte screws macedonia sunlight fin message
topic 74 | jesus church christ god lord holy spirit mary shall heaven
topic 75 | gun number year guns rate insurance police years new firearms
topic 76 | rule automatically characteristic wider thumb recommendation inline mr2 halfway width
topic 77 | drive disk hard scsi drives controller floppy ide master transfer
topic 78 | stephanopoulos water gas oil heat energy hot temperature cold nuclear
topic 79 | like know does use don just good thanks need want
topic 80 | starters mlb mov higher signing left accessible argument viola teams
topic 81 | entry rules info define entries year int printf include contest
topic 82 | price new sale offer sell condition shipping interested asking prices
topic 83 | issue germany title magazine german cover race generation origin nazi
topic 84 | armenian armenians people turkish war said killed children russian turkey
topic 85 | dos windows software comp library os/2 version microsoft applications code
topic 86 | probe space launch titan earth cassini orbiter orbit atmosphere mission
topic 87 | housed throws fills daylight occurring activities adjacent presenting punish occuring
topic 88 | statement folk raids thor disarmed anatolia polygon inria arrive smehlik
topic 89 | sound steve pro convert ati ultra fahrenheit orchid hercules blaster
topic 90 | joke tricky wearing golden trickle seen geneva csh course caesar
topic 91 | moral objective values morality child defined bank definition wrong different
topic 92 | files file edu ftp available version server data use sun
topic 93 | catalog tons seal ordering kawasaki tools fax free ultraviolet packages
topic 94 | file program error output use section line code command problem
topic 95 | power ssf module capability option flights redesign missions human station
topic 96 | just don think know like time did going didn people
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tm</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">texts</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>done.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">texts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#34;A fair number of brave souls who upgraded their SI clock oscillator have\nshared their experiences for this poll. Please send a brief message detailing\nyour experiences with the procedure. Top speed attained, CPU rated speed,\nadd on cards and adapters, heat sinks, hour of usage per day, floppy disk\nfunctionality with 800 and 1.4 m floppies are especially requested.\n\nI will be summarizing in the next two days, so please add to the network\nknowledge base if you have done the clock upgrade and haven&#39;t answered this\npoll. Thanks.&#34;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tm</span><span class="o">.</span><span class="n">doc_topics</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.05935853, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.04939132, 0.00105197,
       0.00105197, 0.00105197, 0.04181867, 0.00105197, 0.00105197,
       0.00105197, 0.21681858, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.02146013, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.0458702 , 0.02146013, 0.14892628,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.00105197, 0.00105197, 0.00105197,
       0.00105197, 0.00105197, 0.13724779, 0.00105197, 0.00105197,
       0.00105197, 0.16612722])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tm</span><span class="o">.</span><span class="n">topics</span><span class="p">[</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">doc_topics</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;card memory windows board ram bus drivers driver cpu problem&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tm</span><span class="o">.</span><span class="n">predict</span><span class="p">([</span><span class="s1">&#39;Elon Musk leads Space Exploration Technologies (SpaceX), where he oversees &#39;</span>  <span class="o">+</span>
            <span class="s1">&#39;the development and manufacturing of advanced rockets and spacecraft for missions &#39;</span> <span class="o">+</span>
            <span class="s1">&#39;to and beyond Earth orbit.&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.65009096, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.06185567, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214, 0.00303214, 0.00303214, 0.00303214,
        0.00303214, 0.00303214]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tm</span><span class="o">.</span><span class="n">topics</span><span class="p">[</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">tm</span><span class="o">.</span><span class="n">predict</span><span class="p">([</span><span class="s1">&#39;Elon Musk leads Space Exploration Technologies (SpaceX), where he oversees &#39;</span>  <span class="o">+</span>
            <span class="s1">&#39;the development and manufacturing of advanced rockets and spacecraft for missions &#39;</span> <span class="o">+</span>
            <span class="s1">&#39;to and beyond Earth orbit.&#39;</span><span class="p">]))]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;space nasa earth data launch surface solar moon mission planet&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>


