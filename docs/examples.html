---

title: Examples


keywords: fastai
sidebar: home_sidebar

summary: "Various examples of CausalNLP on semi-simulated or real datasets."
description: "Various examples of CausalNLP on semi-simulated or real datasets."
nb_path: "nbs/99_examples.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/99_examples.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">causalnlp.causalinference</span> <span class="kn">import</span> <span class="n">CausalInferenceModel</span>
<span class="kn">from</span> <span class="nn">causalnlp.autocoder</span> <span class="kn">import</span> <span class="n">Autocoder</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-is-the-causal-impact-of-a-positive-review-on-product-views?">What is the causal impact of a positive review on product views?<a class="anchor-link" href="#What-is-the-causal-impact-of-a-positive-review-on-product-views?"> </a></h2><p>We use a semi-simulated dataset generated from <a href="https://github.com/rpryzant/causal-text">this repo</a>, which is available in the <code>sample_data</code> folder. The reviews and product types are real, while the outcomes (e.g., 1=product clicked, 0=not clicked) are simulated.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;sample_data/music_seed50.tsv&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">error_bad_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>id</th>
      <th>rating</th>
      <th>product</th>
      <th>text</th>
      <th>summary</th>
      <th>price</th>
      <th>T_true</th>
      <th>C_true</th>
      <th>Y_sim</th>
      <th>negative</th>
      <th>positive</th>
      <th>T_ac</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7</td>
      <td>0001388703</td>
      <td>1.0</td>
      <td>mp3 music</td>
      <td>buy the cd.  do not buy the mp3 album.  downlo...</td>
      <td>Buy the CD.  Do not buy the MP3.</td>
      <td>13.01</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.548733</td>
      <td>0.451267</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>8</td>
      <td>0001388703</td>
      <td>5.0</td>
      <td>mp3 music</td>
      <td>takes me back to my childhood!</td>
      <td>Love it!</td>
      <td>13.01</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0.008373</td>
      <td>0.991627</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>12</td>
      <td>0001388703</td>
      <td>5.0</td>
      <td>audio cd</td>
      <td>the passion and ingenuity of green's music is ...</td>
      <td>No one like Keith Green</td>
      <td>13.01</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0.043761</td>
      <td>0.956239</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>13</td>
      <td>0001388703</td>
      <td>5.0</td>
      <td>mp3 music</td>
      <td>keith's music is a timeless message.  since hi...</td>
      <td>Never Gets Old</td>
      <td>13.01</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.038876</td>
      <td>0.961124</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>15</td>
      <td>0001377647</td>
      <td>5.0</td>
      <td>audio cd</td>
      <td>i have fallen in love with john michael talbot...</td>
      <td>Talbot a masterpiece</td>
      <td>18.99</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0.019828</td>
      <td>0.980172</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>Y_sim</code> is the simulated outcome indicating whether or not the product was clicked.  <code>C_true</code> is a categorical variable, where 1 is an audio CD and and 0 is something else (e.g., MP3).  In this dataset, outcomes were simulated such that <code>C_true</code> is a counfounding variable for this problem.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The treatment is whether or not the review is positive, which affects <code>Y_sim</code>.  Let's pretend we don't have a rating and need to infer this from text using the <a href="/causalnlp/autocoder.html#Autocoder"><code>Autocoder</code></a>. This can be done with:</p>
<div class="highlight"><pre><span></span><span class="n">ac</span> <span class="o">=</span> <span class="n">Autocoder</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">code_sentiment</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">binarize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;T_ac&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;positive&#39;</span><span class="p">]</span>
</pre></div>
<p>We've already created this as the <code>T_ac</code> column (along with the <code>positive</code> and <code>negative</code> columns), so invoking the above is not needed. Note that <code>T_ac</code> is an imperfect approximation of <code>T_true</code>. In CausalNLP, we can include the raw text as covariates to improve our estimates.</p>
<p>Let's fit the causal inference model.  We will adjust for both <code>C_true</code> and the raw text of the review to minimize bias from confounding. CausalNLP supports the following metalearners: S-Learner, T-Learner, X-Learner, and R-Learner. See <a href="https://arxiv.org/abs/1706.03461">this paper</a> for more information on these. We will use the T-Learner as the metalearner here. By default, T-Learners use LightGBM classifiers with 31 leaves.  Let's increase the number of leaves to 500. In practice, you can supply a learner with hyperparameters that you've tuned beforehand to accurately predict the outcome.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">lightgbm</span> <span class="kn">import</span> <span class="n">LGBMClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span><span class="p">,</span> <span class="n">LinearRegression</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">CausalInferenceModel</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">metalearner_type</span><span class="o">=</span><span class="s1">&#39;t-learner&#39;</span><span class="p">,</span>
                    <span class="n">learner</span><span class="o">=</span><span class="n">LGBMClassifier</span><span class="p">(</span><span class="n">num_leaves</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
                    <span class="n">treatment_col</span><span class="o">=</span><span class="s1">&#39;T_ac&#39;</span><span class="p">,</span> 
                    <span class="n">outcome_col</span><span class="o">=</span><span class="s1">&#39;Y_sim&#39;</span><span class="p">,</span> 
                    <span class="n">text_col</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">,</span>
                    <span class="n">include_cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C_true&#39;</span><span class="p">])</span>
<span class="n">cm</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>outcome column (categorical): Y_sim
treatment column: T_ac
numerical/categorical covariates: [&#39;C_true&#39;]
text covariate: text
preprocess time:  1.1371159553527832  sec
start fitting causal inference model
time to fit causal inference model:  19.114628553390503  sec
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;causalnlp.causalinference.CausalInferenceModel at 0x7fddf29b8320&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Average-Treatment-Effect-(ATE)">Average Treatment Effect (ATE)<a class="anchor-link" href="#Average-Treatment-Effect-(ATE)"> </a></h3><p>We can calculate the overall average treatment effect (ATE) as follows:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cm</span><span class="o">.</span><span class="n">estimate_ate</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;ate&#39;: 0.1309311542209525}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The overall ATE is an increase of 13 percentage points in probability.</p>
<p>Unlike machine learning, there is no ground truth to which our estimate can be compared for causal inference on real-world datasets. Hoewver, since this is a simulated dataset, we can compare our estimate with the ground truth ATE of <code>0.1479</code> (14.79 percentage point change in outcome), and our estimate is close.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">def</span> <span class="nf">ATE_adjusted</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">Y</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">Y</span><span class="p">):</span>
        <span class="n">x</span><span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

    <span class="n">C0_ATE</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">C1_ATE</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="n">C0_ATE</span><span class="p">,</span> <span class="n">C1_ATE</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ATE_adjusted</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">C_true</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">T_true</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">Y_sim</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0.14785542719890196
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Such oracle estimates are not available for real-world datsets, as mentioned.  For real-world scenarios, we can, at least, evaluate the robustness of the ATE estimate to various data manipuations (i.e., sensitivity analysis or refutation).</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cm</span><span class="o">.</span><span class="n">evaluate_robustness</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Method</th>
      <th>ATE</th>
      <th>New ATE</th>
      <th>New ATE LB</th>
      <th>New ATE UB</th>
      <th>Distance from Desired (should be near 0)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Placebo Treatment</td>
      <td>0.130931</td>
      <td>0.00880734</td>
      <td>-0.000475675</td>
      <td>0.0180904</td>
      <td>0.00880734</td>
    </tr>
    <tr>
      <th>0</th>
      <td>Random Add</td>
      <td>0.130931</td>
      <td>0.135882</td>
      <td>0.126892</td>
      <td>0.144872</td>
      <td>0.00495052</td>
    </tr>
    <tr>
      <th>0</th>
      <td>Subset Data(sample size @0.5)</td>
      <td>0.130931</td>
      <td>0.114843</td>
      <td>0.0994947</td>
      <td>0.130191</td>
      <td>-0.0160881</td>
    </tr>
    <tr>
      <th>0</th>
      <td>Random Replace</td>
      <td>0.130931</td>
      <td>0.136636</td>
      <td>0.127685</td>
      <td>0.145586</td>
      <td>0.00570471</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here, we see the distance from the desired value is near zero for each sensitivy analysis method , which is good.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Conditional-Average-Treatment-Effect-(CATE)">Conditional Average Treatment Effect (CATE)<a class="anchor-link" href="#Conditional-Average-Treatment-Effect-(CATE)"> </a></h3><p>We can also calculate the conditional average treatment effects (CATE). For instance, here is the treatment effect for those reviews that mention the word ``toddler.''</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span>
<span class="n">cm</span><span class="o">.</span><span class="n">estimate_ate</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;toddler&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;ate&#39;: 0.15559234254638685}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Individualized-Treatment-Effect-(ITE)">Individualized Treatment Effect (ITE)<a class="anchor-link" href="#Individualized-Treatment-Effect-(ITE)"> </a></h3><p>We can easily predict the treatment effect for new or existing observations on a per-unit basis.  We just need to make sure the DataFrame supplied as input to <a href="/causalnlp/causalinference.html#CausalInferenceModel.predict"><code>CausalInferenceModel.predict</code></a> contains the right columns. This can easily be checked with <a href="/causalnlp/causalinference.html#CausalInferenceModel.get_required_columns"><code>CausalInferenceModel.get_required_columns</code></a>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cm</span><span class="o">.</span><span class="n">get_required_columns</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;T_ac&#39;, &#39;C_true&#39;, &#39;text&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;T_ac&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="s1">&#39;C_true&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="s1">&#39;text&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;I love the music of Zamfir and his pan flute.&#39;</span><span class="p">]</span>
      <span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cm</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0.40062776]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Model-Interpetability">Model Interpetability<a class="anchor-link" href="#Model-Interpetability"> </a></h3><p>We can use the <code>interpret</code> method to identify the attributes most predictive of individualized treatment effects across observations.  Features begnning with <code>v_</code> are word (or vocabulary) features.  We see that words like "music", "cd", and "love" in addition to the categorical attribute <code>C_true</code> (the known confounder which is 1 for audio CDs) are most predictive of <em>individualized</em> causal effects.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cm</span><span class="o">.</span><span class="n">interpret</span><span class="p">(</span><span class="n">plot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;feature_importance&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>v_music    0.079042
v_cd       0.066838
v_album    0.055168
v_like     0.040784
v_love     0.040635
C_true     0.039949
v_just     0.035671
v_song     0.035362
v_great    0.029918
v_heard    0.028373
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cm</span><span class="o">.</span><span class="n">explain</span><span class="p">(</span><span class="n">test_df</span><span class="p">,</span> <span class="n">row_num</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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8+Z5nQwAAAAAAKJKTk6OHn30Ud1xxx36+OOPtXLlSs2ZM6de086ePVtbtmxp5hRGFwJTAAAAAAAAYbJkyRL169dPM2bM0EEHHaR33nlHEyZMqNe048eP16JFi5o5hdGFwBQAAAAAAECY5Obmqlu3bpKkDRs2qKioSL17967XtHvttZfWrFmjgoKC5kxiVIn3OgGt3YYNG7RgwQLl5+dr6NChmjp1quLj47V79269/PLLWr9+vcrLy9W3b19NnTpV6enpkqSvvvpKixcvVmFhoVJSUjR58mSNGjVKkvTll19qyZIlKigoUK9evXTssceqQ4cO1Zb99NNPa8iQITrwwAMrfnvkkUc0adIkDRs2TAsWLNCyZcu0Z88ederUSUcddZQyMzOrzWfNmjWaN2+errzyyorfZs2apeOOO04DBgyQ67pasmSJPv/8cxUVFWnAgAGaOnWqkpOTw7w1AQAAAADwzr///W+tWbNGa9eu1cKFC3XwwQerX79+FcPXrVun5557ThdffLHat2+vTZs26YknntAFF1ygLl26KD4+Xj179tTKlSs1evRoz9Yjkqgx5bFvv/1WZ599ti6//HJt27ZN7733niTJdV2NHj1aV1xxha644grFx8frjTfekCQVFxdrwYIFOuusszRjxgydf/756tGjhyRp+fLlev/993X66afr2muvVWZmpubOnRty2SNHjtS3335b8X3r1q3Kzc3V4MGDJUm9evXSJZdcounTp2vkyJF68cUXVVpa2uB1/Pjjj7V8+XKdd955uuqqq5SUlKTXX3+9wfMBAAAAACCanXvuucrMzNTRRx+tGTNmaPPmzercuXPF8D59+mj//ffX/PnzVVJSonnz5mny5Mnq0qVLxThdu3bV5s2bvUi+JwhMeezAAw9U+/btlZycrIkTJ1YEilJSUrT33nurbdu2SkxM1MSJE7VmzZqK6RzH0ZYtW1RSUqK0tLSKaoKfffaZJkyYoK5duyouLk6HHHKINm3apJ07d1Zb9tChQysN++abbzRs2DDFx1tFulGjRiklJUVxcXEaP368SktLlZOT0+B1/OyzzzR58mSlp6crPj5ekyZN0g8//KDy8vIGzwsAAAAAgFhRVFSkxMTESr9NmjRJRUVFmj17ttLT0zVmzJhKwxMSElRUVBTJZHqKpnwe8zfNk6T27dsrPz9fklRSUqKFCxdq5cqVFQfknj17VF5eroSEBJ1yyilaunSpXn31VfXp00dTpkxRly5dlJubq4ULF+rNN9+smK/rusrPz6/WnC8xMVFDhgzRd999pwkTJui7777TscceWzF86dKl+uKLL5Sfny/HcbRnzx7t2rWrweuYm5ur559/Xo7jVPwWFxengoKCSusPAAAAAEBLkpycrD179lT6rU2bNho9erQWLFigKVOmVHpWlqyVVFJSUiST6SkCUx7Ly8ur+Jybm6u0tDRJFhTatm2bLrzwQqWmpmrTpk169NFHK8YdNGiQBg0apJKSEr3zzjt69dVX9Zvf/Ebp6ek65JBDKvqbqsuIESO0ePFiZWZmqrS0VP3795ckZWVlacmSJTrnnHPUrVs3OY6jO++8M+Q82rZtq5KSkorv5eXlKiwsrPienp6u448/Xn379q3/hgEAAAAAIMZ1795d27Ztq/RbXl6eFi9erH333VdvvvmmLrzwwoqWS5J1s1PfZ/qWgKZ8Hvvkk0+Ul5en3bt36/3339eIESMkWYQ0Pj5eSUlJ2r17t959992KaQoKCrR8+fKKcRISEioirAcccIA++OADbdmyRZJVG/z+++9rXP7gwYO1c+dOLVq0SMOHD6+YT3FxseLi4tSuXTuVl5dr8eLF1aK8fp07d1ZpaalWrFihsrIyvffeeyorK6sYfsABB+idd96paDJYWFio5cuXN3qbAQAAAAAQCwYPHqysrKyK767rav78+dp333113HHHKTU1VYsWLaoYXlpaqo0bN2rgwIFeJNcT1Jjy2MiRI/XUU08pPz9fe+21lyZOnChJGjt2rObOnau77rpLaWlpGjduXEUwx3Vdffjhh3r55ZflOI569OihqVOnSpKGDRum4uJivfTSS8rNzVViYqIGDhyo4cOHh1x+fHy8hg0bpi+//FKHH354xe8DBw7UoEGD9OCDD6pt27YaN26c2rdvH3IeSUlJOuaYY/Tqq6/KdV0dfPDBlZrojR07VpIq1rNdu3YaMWKEhg4d2vQNCAAAAABAlOrZs6cSExO1fv169e7dWx9//LEKCws1efJkOY6jE044QY888oiGDBmizMxM/fjjj+rXr19Fa6rWwHFd1+s0tBZs6Ppx6h4FAAAAAICoUOez/qpVq/Tpp59q2rRpdc5s9uzZOv744ytecFaDFvXcTGAqctjQ9dOiTjAA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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-is-the-causal-impact-of-having-a-PhD-on-making-over-$50K?">What is the causal impact of having a PhD on making over $50K?<a class="anchor-link" href="#What-is-the-causal-impact-of-having-a-PhD-on-making-over-$50K?"> </a></h2><blockquote><p>Text is Optional in CausalNLP</p>
</blockquote>
<p>Despite the "NLP" in the name, <strong>CausalNLP</strong> can be used for causal analyses on traditional tabular datasets with no text fields.</p>
<p>Note:This dataset is from the early to mid 1990s, and we are using it as a toy dataset for demonstration purposes only.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;sample_data/adult-census.csv&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span> 
<span class="n">filter_set</span> <span class="o">=</span> <span class="s1">&#39;Doctorate&#39;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;treatment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;education&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">filter_set</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education-num</th>
      <th>marital-status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital-gain</th>
      <th>capital-loss</th>
      <th>hours-per-week</th>
      <th>native-country</th>
      <th>class</th>
      <th>treatment</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>25</td>
      <td>Private</td>
      <td>178478</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Never-married</td>
      <td>Tech-support</td>
      <td>Own-child</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>23</td>
      <td>State-gov</td>
      <td>61743</td>
      <td>5th-6th</td>
      <td>3</td>
      <td>Never-married</td>
      <td>Transport-moving</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>35</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>46</td>
      <td>Private</td>
      <td>376789</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Never-married</td>
      <td>Other-service</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>15</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55</td>
      <td>?</td>
      <td>200235</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>?</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>United-States</td>
      <td>&gt;50K</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>36</td>
      <td>Private</td>
      <td>224541</td>
      <td>7th-8th</td>
      <td>4</td>
      <td>Married-civ-spouse</td>
      <td>Handlers-cleaners</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>El-Salvador</td>
      <td>&lt;=50K</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">causalnlp.causalinference</span> <span class="kn">import</span> <span class="n">CausalInferenceModel</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">CausalInferenceModel</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">metalearner_type</span><span class="o">=</span><span class="s1">&#39;t-learner&#39;</span><span class="p">,</span>
                   <span class="n">treatment_col</span><span class="o">=</span><span class="s1">&#39;treatment&#39;</span><span class="p">,</span> 
                   <span class="n">outcome_col</span><span class="o">=</span><span class="s1">&#39;class&#39;</span><span class="p">,</span>
                   <span class="n">ignore_cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fnlwgt&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span><span class="s1">&#39;education-num&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>replaced [&#39;&lt;=50K&#39;, &#39;&gt;50K&#39;] in column &#34;class&#34; with [0, 1]
outcome column (categorical): class
treatment column: treatment
numerical/categorical covariates: [&#39;age&#39;, &#39;workclass&#39;, &#39;marital-status&#39;, &#39;occupation&#39;, &#39;relationship&#39;, &#39;race&#39;, &#39;sex&#39;, &#39;capital-gain&#39;, &#39;capital-loss&#39;, &#39;hours-per-week&#39;, &#39;native-country&#39;]
preprocess time:  0.4800240993499756  sec
start fitting causal inference model
time to fit causal inference model:  4.338961839675903  sec
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Overall, the average treatment effect of having a PhD is an increase of 20 percentage points in the probability of making over $50K (with respect to this model and dataset):</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cm</span><span class="o">.</span><span class="n">estimate_ate</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;ate&#39;: 0.20340645077516034}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For those who have a Master's degree:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cm</span><span class="o">.</span><span class="n">estimate_ate</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;education&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Masters&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;ate&#39;: 0.17672418257642838}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For those show are  high school dropouts:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cm</span><span class="o">.</span><span class="n">estimate_ate</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;education&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;Preschool&#39;</span><span class="p">,</span> <span class="s1">&#39;1st-4th&#39;</span><span class="p">,</span> <span class="s1">&#39;5th-6th&#39;</span><span class="p">,</span> <span class="s1">&#39;7th-8th&#39;</span><span class="p">,</span> <span class="s1">&#39;9th&#39;</span><span class="p">,</span> <span class="s1">&#39;10th&#39;</span><span class="p">,</span> <span class="s1">&#39;12th&#39;</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;ate&#39;: 0.2586697863578173}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

